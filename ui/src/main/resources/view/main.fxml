<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ Copyright (c) 2019-2023 by David Gerber - https://zapek.com
  ~
  ~ This file is part of Xeres.
  ~
  ~ Xeres is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ Xeres is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with Xeres.  If not, see <http://www.gnu.org/licenses/>.
  -->

<?import de.jensd.fx.glyphs.fontawesome.*?>
<?import io.xeres.ui.custom.led.LedControl?>
<?import io.xeres.ui.custom.ReadOnlyTextField?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.input.KeyCodeCombination?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<VBox xmlns="http://javafx.com/javafx/18" xmlns:fx="http://javafx.com/fxml/1" fx:controller="io.xeres.ui.controller.MainWindowController">
    <MenuBar>
        <Menu text="%main.menu.peers">
            <MenuItem fx:id="addPeer" text="%main.menu.peers.add-peer">
                <graphic>
                    <FontAwesomeIconView glyphName="USER" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="showProfilesWindow" text="%main.menu.peers.profiles">
                <graphic>
                    <FontAwesomeIconView glyphName="GROUP" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="showPeersWindow" text="%main.menu.peers.peers">
                <graphic>
                    <FontAwesomeIconView glyphName="WECHAT" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="showBroadcastWindow" text="%main.menu.peers.broadcast">
                <graphic>
                    <FontAwesomeIconView glyphName="BULLSEYE" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="copyOwnId" text="%main.menu.peers.copy-own-id">
                <graphic>
                    <FontAwesomeIconView glyphName="CLIPBOARD" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <SeparatorMenuItem mnemonicParsing="false"/>
            <MenuItem fx:id="exitApplication" text="%main.menu.peers.exit">
                <graphic>
                    <FontAwesomeIconView glyphName="CLOSE" glyphSize="14"/>
                </graphic>
            </MenuItem>
        </Menu>
        <Menu text="%main.menu.identities">
            <MenuItem fx:id="showIdentitiesWindow" text="%main.menu.identities.identities">
                <graphic>
                    <FontAwesomeIconView glyphName="USERS" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="changeOwnIdentityPicture" text="%main.menu.identities.change-picture">
                <graphic>
                    <FontAwesomeIconView glyphName="PHOTO" glyphSize="14"/>
                </graphic>
            </MenuItem>
        </Menu>
        <Menu text="%main.menu.chat">
            <MenuItem fx:id="createChatRoom" text="%main.menu.chat.create-chat-room">
                <graphic>
                    <FontAwesomeIconView glyphName="PLUS" glyphSize="14"/>
                </graphic>
            </MenuItem>
        </Menu>
        <Menu text="%main.menu.tools">
            <MenuItem fx:id="launchWebInterface" mnemonicParsing="false" text="%main.menu.tools.web-interface">
                <graphic>
                    <FontAwesomeIconView glyphName="GLOBE" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <SeparatorMenuItem mnemonicParsing="false"/>
            <MenuItem fx:id="showSettingsWindow" text="%main.menu.tools.settings">
                <graphic>
                    <FontAwesomeIconView glyphName="GEARS" glyphSize="14"/>
                </graphic>
                <accelerator>
                    <KeyCodeCombination alt="DOWN" code="S" control="DOWN" meta="UP" shift="UP" shortcut="UP"/>
                </accelerator>
            </MenuItem>
        </Menu>
        <Menu text="%main.menu.help">
            <MenuItem fx:id="showHelp" text="%main.menu.help.online-help">
                <graphic>
                    <FontAwesomeIconView glyphName="SUPPORT" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="reportBug" mnemonicParsing="false" text="%main.menu.help.report-bug">
                <graphic>
                    <FontAwesomeIconView glyphName="BUG" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <MenuItem fx:id="forums" mnemonicParsing="false" text="%main.menu.help.forums">
                <graphic>
                    <FontAwesomeIconView glyphName="BULLHORN" glyphSize="14"/>
                </graphic>
            </MenuItem>
            <SeparatorMenuItem mnemonicParsing="false"/>
            <MenuItem fx:id="showAboutWindow" text="%main.menu.help.about"/>
        </Menu>
        <Menu fx:id="debug" text="_Debug" visible="false">
            <MenuItem fx:id="runGc" text="_Run GC">
                <graphic>
                    <FontAwesomeIconView glyphName="TRASH" glyphSize="14"/>
                </graphic>
            </MenuItem>
        </Menu>
    </MenuBar>
    <TabPane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefHeight="400.0" prefWidth="600.0" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
        <Tab text="%main.home">
            <graphic>
                <FontAwesomeIconView glyphName="HOME" glyphSize="14"/>
            </graphic>
            <VBox alignment="CENTER">
                <HBox alignment="CENTER">
                    <opaqueInsets>
                        <Insets/>
                    </opaqueInsets>
                    <VBox.margin>
                        <Insets bottom="8.0" left="8.0" right="8.0" top="16.0"/>
                    </VBox.margin>
                    <ImageView fitHeight="59.0" fitWidth="68.0" pickOnBounds="true" preserveRatio="true">
                        <Image url="@../image/icon.png"/>
                    </ImageView>
                    <Label fx:id="titleLabel" text="Xeres">
                        <font>
                            <Font size="36.0"/>
                        </font>
                    </Label>
                </HBox>
                <Label text="%main.home.slogan">
                    <VBox.margin>
                        <Insets bottom="8.0" left="8.0" right="8.0" top="8.0"/>
                    </VBox.margin>
                    <font>
                        <Font name="System Bold" size="12.0"/>
                    </font>
                </Label>
                <Label text="%main.home.share-id">
                    <VBox.margin>
                        <Insets bottom="8.0" left="8.0" right="8.0" top="16.0"/>
                    </VBox.margin>
                </Label>
                <HBox alignment="CENTER" maxWidth="1.7976931348623157E308">
                    <ReadOnlyTextField fx:id="shortId" editable="false" prefWidth="540.0"/>
                    <Button fx:id="copyShortIdButton">
                        <graphic>
                            <FontAwesomeIconView glyphName="CLIPBOARD" glyphSize="18" size="16" text="ïƒª"/>
                        </graphic>
                    </Button>
                </HBox>
                <Label text="%main.home.received-id">
                    <VBox.margin>
                        <Insets bottom="8.0" left="8.0" right="8.0" top="16.0"/>
                    </VBox.margin>
                </Label>
                <Button fx:id="addFriendButton" mnemonicParsing="false" text="%main.home.add-peer">
                    <graphic>
                        <FontAwesomeIconView glyphName="USER" glyphSize="24" styleClass="icon-friend"/>
                    </graphic>
                </Button>
                <Label text="%main.home.need-help">
                    <VBox.margin>
                        <Insets bottom="8.0" left="8.0" right="8.0" top="16.0"/>
                    </VBox.margin>
                </Label>
                <Button fx:id="webHelpButton" mnemonicParsing="false" text="%main.home.online-help">
                    <graphic>
                        <FontAwesomeIconView glyphName="GLOBE" glyphSize="24" styleClass="icon-web"/>
                    </graphic>
                </Button>
                <Region prefHeight="200.0" prefWidth="200.0" VBox.vgrow="ALWAYS"/>
            </VBox>
        </Tab>
        <Tab text="%main.chat">
            <graphic>
                <FontAwesomeIconView glyphName="WECHAT" glyphSize="14"/>
            </graphic>
            <!--suppress Annotator -->
            <fx:include fx:id="chatViewController" source="chat/chatview.fxml"/>
        </Tab>
    </TabPane>
    <HBox alignment="BOTTOM_LEFT">
        <VBox.margin>
            <Insets bottom="4.0" left="4.0" right="4.0" top="4.0"/>
        </VBox.margin>
        <Label text="%main.status.connections"/>
        <Label fx:id="numberOfConnections" prefWidth="40.0"/>
        <Label text="NAT: "/>
        <LedControl fx:id="natStatus" prefHeight="16.0" prefWidth="16.0"/>
        <Label text="DHT: ">
            <HBox.margin>
                <Insets left="8.0"/>
            </HBox.margin>
        </Label>
        <LedControl fx:id="dhtStatus" prefHeight="16.0" prefWidth="16.0"/>
    </HBox>
</VBox>
